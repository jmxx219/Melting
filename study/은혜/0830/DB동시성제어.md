### 낙관적 락 (Optimistic Locking)

- 데이터베이스에 대한 변경이 드물게 발생하고, 충돌 가능성이 낮은 환경에서 유용함.
- 충돌이 발생할 것이라고 ‘낙관적’으로 가정하고, 실제로 충돌이 발생했을 때만 대응한다.

<aside>
💡 데이터를 읽을 때는 락을 걸지않고, 데이터를 업데이트할 때만 이전 데이터와 현재 데이터를 비교하여 충돌 여부 판단

</aside>

- 장점 : 데이터베이스의 성능 저하를 최소화하고, 동시성을 높이는 데 유리함.
- 단점 : 충돌이 발생했을때 데이터를 다시 읽고, 업데이트해야하는 추가 작업이 필요함. 충돌을 해결하기 위해서는 충돌 발생 시점부터 트랜잭션을 다시 시작해야함.

### 비관적 락 (Pessimistic Locking)

- 데이터에 대한 변경이 자주 발생하고, 충돌 가능성이 높은 환경에서 선호됨.
- 충돌이 발생할 것이라고 ‘비관적’으로 가정하고, 데이터를 처음부터 잠그는 방식으로 충돌을 방지한다.

<aside>
💡 데이터를 읽을 때부터 해당 데이터에 대한 락을 걸어 다른 트랜잭션이 해당 데이터를 변경할 수 없게 함.

</aside>

- 장점 : 데이터의 일관성을 보장함. (데이터를 읽는 동안 다른 트랜잭션이 해당 데이터를 변경할 수 없다.)
- 단점 : 성능 저하와 데드락 발생 가능성이 높다. 데이터에 대한 락을 걸어두면, 다른 트랜잭션이 해당 데이터에 접근할 수 없기 때문
- 구현 방법 → 데이베이스의 락 기능 사용. 데이터 읽을 때 SELECT FOR UPDATE 같은 쿼리 사용